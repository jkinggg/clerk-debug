{"version":3,"names":["moment","useRef","useState","Gesture","Easing","runOnJS","useAnimatedReaction","useSharedValue","withTiming","useTimelineCalendarContext","roundTo","triggerHaptic","useTimelineScroll","useDragCreateGesture","onDragCreateEnd","timeIntervalHeight","spaceFromTop","spaceFromBottom","offsetY","timelineLayoutRef","isScrolling","currentIndex","minDate","maxDate","pages","hourWidth","columnWidth","timelineWidth","totalHours","dragCreateInterval","dragStep","viewMode","isDragCreateActive","useHaptic","tzOffset","start","navigateDelay","goToNextPage","goToPrevPage","goToOffsetY","isDraggingCreate","setIsDraggingCreate","currentHour","dragXPosition","dragYPosition","startOffsetY","calcPosition","xPosition","yPosition","nearestMinutes","positionIndex","Math","floor","calcX","startY","value","subtractHour","originalTime","roundedHour","calcY","x","max","y","timeoutRef","_handleScroll","current","clearInterval","setInterval","scrollTargetDiff","abs","scrollInProgress","targetOffset","yInPage","pageSize","height","currentY","timelineHeight","spacingInBottomAndTop","maxOffsetY","nextOffset","min","_onEnd","event","time","round","startDate","data","eventStart","tz","add","isBeforeMinDate","isBefore","isAfterMaxDate","isAfter","eventEnd","clone","toISOString","end","gestureEvent","undefined","duration","easing","linear","isTouchesUp","dragCreateGesture","Pan","minPointers","manualActivation","onTouchesDown","stateManager","numberOfTouches","fail","onTouchesMove","_e","activate","onUpdate","numberOfPointers","onTouchesUp","touchesUp","active","onLongPress","e","posX","nativeEvent","locationX","posY","locationY"],"sourceRoot":"../../src","sources":["useDragCreateGesture.tsx"],"mappings":"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"}